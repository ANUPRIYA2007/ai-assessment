# ProctorForge AI - Backend Server Configuration
# Copy this file to ../.env (project root) and fill in your values

# ===== DATABASE =====
# Supabase PostgreSQL (recommended for production)
DATABASE_URL=postgresql+asyncpg://postgres:[PASSWORD]@db.[REF].supabase.co:5432/postgres
DATABASE_URL_SYNC=postgresql://postgres:[PASSWORD]@db.[REF].supabase.co:5432/postgres

# SQLite fallback (local development only)
# DATABASE_URL=sqlite+aiosqlite:///./proctorforge.db?check_same_thread=false
# DATABASE_URL_SYNC=sqlite:///./proctorforge.db?check_same_thread=false

# ===== JWT SECURITY =====
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=1440

# ===== HMAC SECURITY =====
# For event signing (prevent tampering)
HMAC_SECRET_KEY=your-super-secret-hmac-key-change-this-in-production

# ===== SUPABASE (Optional) =====
SUPABASE_URL=https://[PROJECT-REF].supabase.co
SUPABASE_ANON_KEY=[ANON-KEY]
SUPABASE_SERVICE_ROLE_KEY=[SERVICE-ROLE-KEY]

# ===== REDIS =====
REDIS_URL=redis://localhost:6379/0
# For production cloud Redis:
# REDIS_URL=redis://:password@your-redis-host:6379/0

# ===== AI FEATURES =====
# Anthropic Claude API (for AI Twin intervention analysis)
ANTHROPIC_API_KEY=sk-ant-xx...

# ===== DOCKER SANDBOX =====
# Code execution sandbox settings
SANDBOX_IMAGE=proctorforge-sandbox:latest
SANDBOX_TIMEOUT=30
SANDBOX_MEMORY_LIMIT=256m
SANDBOX_CPU_LIMIT=0.5

# ===== SERVER =====
SERVER_HOST=0.0.0.0
SERVER_PORT=8000

# ===== CORS =====
# For local development
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# For production (add your frontend domain)
# CORS_ORIGINS=https://app.proctorforge.ai,https://proctorforge.ai

# ===== LOGGING =====
LOG_LEVEL=info
